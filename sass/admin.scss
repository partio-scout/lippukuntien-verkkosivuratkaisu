@import "bootstrap-vars";
@import "fontawesome_helpers";
@import "vendor/fontawesome/fontawesome";
@import "vendor/fontawesome/regular";
@import '../node_modules/bootstrap/scss/bootstrap-grid.scss';
@import "vars";
@import "base/mixins";

@import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,900;1,900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap');

.block-editor {
    .interface-interface-skeleton__body, .block-editor-editor-skeleton__body {
        .edit-post-visual-editor {
            padding: 0;
            font: #{map-get($base-font-size,null)}/#{$base-line-height} $base-font-family;
            @include font-size($base-font-size);
            font-weight: normal;
            color: $base-clr-text;
            background: $base-clr-body-bg;
            position: relative;

            .block-editor-writing-flow {
                overflow-x: hidden;

                //Page title
                .edit-post-visual-editor__post-title-wrapper, .editor-post-title {
                    border-bottom: 1px solid #f0f0f0;
                    background-color: #fff;

                    .wp-block {
                        @extend .container;
                    }

                    .editor-post-title, .editor-post-title__block {
                        margin-top: 0;
                        padding-top: 2em;
                    }
                }

                .editor-post-title {
                    .editor-post-title__block {
                        margin-top: 50px;
                        padding-top: 2em;
                    }
                }

                //Content editor
                .block-editor-block-list__layout.is-root-container, .block-editor-block-list__layout {
                    @extend .container;
                    // Needs review: Import styles here to overwrite WordPress core styles in editor
                    //@import "base/typography";

                    .wp-block {
                        max-width: inherit;
                        // Import styles here to add custom elements to editor
                        @import "base/helpers";
                        @import "elements/forms";

                        .acf-block-preview {
                            .block-editor-inner-blocks {
                                border: 1px dashed transparent;
                                position: relative;
                                
                                &:hover {
                                    border: 1px dashed black;
                                    
                                    &::before {
                                        display: inline-block;
                                    }
                                }
                                
                                &:focus-within {
                                    border: 1px dashed black;
                                    
                                    &::before {
                                        display: inline-block;
                                    }
                                }
                                
                                &::before {
                                    content: 'InnerBlocks';
                                    padding: 6px 12px;
                                    border-radius: 2px 2px 0 0;
                                    background-color: #007cba;
                                    color: #fff;
                                    transform: translateY(calc(-100% - 1px));
                                    display: none;
                                    position: absolute;
                                    left: 0;
                                    font-size: 13px;
                                }
                            }
                            
                            // Import styles here to add ACF block styles to editor
                            @import "elements/all";
                            @import "components/all";
                            @import "partials/article-card";
                            @import "partials/sidebar";

                            // Needs review: does not work without base/typography
                            //> div, > section {
                            //    @extend .entry-content; //Not working for some reason
                            //}
                        }
                    }
                }
            }
        }
    }
}
